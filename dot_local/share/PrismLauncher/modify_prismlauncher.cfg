{{- /* chezmoi:modify-template */ -}}

{{- with $config :=
 fromIni .chezmoi.stdin
 | setValueAtPath (list "General" "WrapperCommand") "game2unit minecraft-prism --"
 | setValueAtPath (list "General" "JvmArgs") (
  list
   "-XX:+UnlockExperimentalVMOptions"
   "-XX:+UnlockDiagnosticVMOptions"
   "-XX:+AlwaysActAsServerClassMachine"
   "-XX:+AlwaysPreTouch"
   "-XX:+DisableExplicitGC"
   "-XX:+UseNUMA"
   "-XX:NmethodSweepActivity=1"
   "-XX:ReservedCodeCacheSize=400M"
   "-XX:NonNMethodCodeHeapSize=12M"
   "-XX:ProfiledCodeHeapSize=194M"
   "-XX:NonProfiledCodeHeapSize=194M"
   "-XX:-DontCompileHugeMethods"
   "-XX:MaxNodeLimit=240000"
   "-XX:NodeLimitFudgeFactor=8000"
   "-XX:+UseVectorCmov"
   "-XX:+PerfDisableSharedMem"
   "-XX:+UseFastUnorderedTimeStamps"
   "-XX:+UseCriticalJavaThreadPriority"
   "-XX:ThreadPriorityPolicy=1"
   "-XX:AllocatePrefetchStyle=3"
   "-XX:+UseTransparentHugePages"
   "-XX:+UseShenandoahGC"
   "-XX:ShenandoahGCMode=iu"
   "-XX:ShenandoahGuaranteedGCInterval=1000000"
   "-XX:AllocatePrefetchStyle=1"
  | join " "
 )
-}}
{{ range $category := keys $config | sortAlpha -}}
[{{ $category }}]
{{ range $key := get $config $category | keys | sortAlpha -}}
{{- $value := dig $category $key nil $config -}}
{{ $key }}={{ if contains "=" $value }}{{ $value | quote }}{{ else }}{{ $value }}{{ end }}
{{ end -}}
{{ end -}}
{{- end -}}
